.wrapper
  .content
    = render "shared/subHeader" 
    .exmain
      = form_with model: @item, local: true do |f|
        .exmain-image
          .exmain-image__name
            %label 出品画像
          %p.exmain-image__limit
            最大10枚までアップロードできます
          .exmain-image__input
            = f.fields_for :images do |image|
              .js-file_group{"data-index" => "#{image.index}"}
                %label.fas.fa-camera
                %p.image-show
                  = image.file_field :image, value:"", id:"img-file", class:"js-file"
                  %span.js-remove　削除
                  ドラッグアンドドロップ
                  またはクリックしてファイルをアップロード
                - if @item.persisted?
                  = image.check_box :_destroy, data:{ index: image.index }, class: 'hidden-destroy'
                - if @item.persisted?
                  .js-file_group{"data-index" => "#{@item.images.count}"}
                  = file_field_tag :image, name: "item[images_attributes][#{@item.images.count}][src]", class: 'js-file'
                  %span.js-remove　削除

        .exmain-item
          .exmain-item__name
            %label 商品名
            %span.exmain-label 必須
          .exmain-item__name-input
            = f.text_field :name, placeholder:"商品名（必須 40文字まで)",class: "form__group__name"
          .exmain-item__explain
            %label 商品の説明
            %span.exmain-label 必須
          .exmain-item__explain-input
            = f.text_area :description, placeholder:"商品の説明(必須1,000文字以内(色、素材、重さ、定価、注意点など）例）2010年頃に1万円で購入したジャケットです。ライトグレーで傷はありません。あわせやすいのでおすすめです。", class: "input-explain",cows: "40", rows: "7"

        .exmain-detail
          .exmain-detail-top
            %label 商品の詳細
          .exmain-detail-category
            %label カテゴリー
            %span.exmain-label 必須
            = f.select :category, options_for_select(@category_parent_array, @category_parent_name), {:prompt => "---" }, { class: "exmain-detail-category-input", id: "category_select" }
            = f.select :category, options_for_select(@category_children_siblings.map{|s| [s.name, s.id, {'data-category'=>s.id}]}, @category_children_name), {:prompt => "---" }, { class: "exmain-detail-category__box--select", id: "child_category"}
            = f.select :category, options_for_select(@category_grandchildren_siblings.map{|s| [s.name, s.id, {'data-category'=>s.id}]}, @category_grandchildren_name), {:prompt => "---" }, { class: "exmain-detail-category__box--select", id: "grandchild_category"}
          .exmain-detail-brand
            = f.fields_for :brand do |b|
              %label ブランド
              %span.exmain-label-gray 任意
              = b.text_field :name, placeholder: "例）シャネル", value: "#{@item.brand.name}" ,class: "exmain-detail-brand-input"

          .exmain-detail-status
            %label 商品の状態
            %span.exmain-label 必須
          .exmain-detail-status-input
            = f.collection_select :status_id, Status.all, :id, :name, prompt: "---"
        .exmain-deliver
          .exmain-deliver-top
            %label 配送について
            .exmain-deliver-top-qa
          .exmain-deliver-fee
            %label 配送料の負担
            %span.exmain-label 必須
          .exmain-deliver-fee-input
            = f.collection_select :fee_side_id, FeeSide.all, :id, :name, prompt: "---"
          .exmain-deliver-region
            %label 配送元の地域
            %span.exmain-label 必須
          .exmain-deliver-region-input
            = f.collection_select :prefecture_id, Prefecture.all, :id, :name, prompt: "---"
          .exmain-deliver-date
            %label 配送までの日数
            %span.exmain-label 必須
          .exmain-deliver-date-input
            = f.collection_select :shipping_days_id, ShippingDays.all, :id, :name, prompt: "---"

        .exmain-check
          %label.exmain-check-top
            価格(¥300〜9,999,999)
            .exmain-check-top-qa
          .exmain-check-price
            .exmain-check-price-title
              %label.price 販売価格
              %span.exmain-label 必須
              = f.number_field :price, placeholder:" ",class: "exmain-check-price-title"
          .exmain-check-fee
            .exmain-check-fee-tax 販売手数料（10%）
            %p.fee-span -
          .exmain-check-profit-box
            .exmain-check-profit 販売利益
            %p.fee-span -
          .check-button
            = f.submit "再出品する", class: "check-button-pay"
            %button.check-button-back
              戻る
          %p.exmain-check-detail
            禁止されている行為および出品物を必ずご確認ください。偽ブランド品や盗品物などの販売は犯罪であり、法律により処罰される可能性があります。 また、出品をもちまして加盟店規約に同意したことになります。

    = render "shared/subFooter" 